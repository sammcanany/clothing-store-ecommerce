# Render.com Environment Variables Template for Backend
# Use this for FREE tier deployment on Render

# ============================================
# AUTOMATICALLY PROVIDED BY RENDER
# ============================================
# PORT - Render sets this automatically (usually 10000)
# These you'll reference from other services:
# DATABASE_URL - From Supabase or Render PostgreSQL
# REDIS_URL - From Upstash or Render Redis

# ============================================
# DATABASE (Choose one option)
# ============================================
# Option A: Supabase (FREE tier, recommended)
# Get from: https://app.supabase.com → Settings → Database → Connection String
# Format: postgresql://postgres:[password]@[host]:5432/postgres?sslmode=require
DATABASE_URL=postgresql://postgres:password@host.supabase.co:5432/postgres?sslmode=require

# Option B: Render PostgreSQL (FREE tier with limitations)
# Render will provide this when you create PostgreSQL service
# DATABASE_URL will be auto-injected

# ============================================
# REDIS (Choose one option)
# ============================================
# Option A: Upstash (FREE tier, recommended)
# Get from: https://console.upstash.com → Create Database
# Format: rediss://default:[password]@[host]:6379
REDIS_URL=rediss://default:password@host.upstash.io:6379

# Option B: Render Redis (starts at $7/month, no free tier)
# REDIS_URL will be auto-injected if you add Redis service

# ============================================
# REQUIRED: SECURITY SECRETS
# ============================================
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-at-least-32-characters-long-for-production
COOKIE_SECRET=your-cookie-secret-at-least-32-characters-long-for-production

# ============================================
# REQUIRED: ADMIN CREDENTIALS
# ============================================
ADMIN_EMAIL=admin@yourstore.com
ADMIN_PASSWORD=your-secure-admin-password

# ============================================
# REQUIRED: CORS CONFIGURATION
# ============================================
# Your Vercel frontend URL
STORE_CORS=https://yourstore.vercel.app
# Your Render backend URL
ADMIN_CORS=https://your-backend.onrender.com
AUTH_CORS=https://yourstore.vercel.app,https://your-backend.onrender.com

# ============================================
# REQUIRED: STRIPE PAYMENT PROCESSING
# ============================================
STRIPE_API_KEY=sk_live_your_stripe_secret_key

# ============================================
# REQUIRED: USPS SHIPPING INTEGRATION
# ============================================
USPS_CLIENT_ID=your-usps-client-id
USPS_CLIENT_SECRET=your-usps-client-secret
USPS_ENVIRONMENT=production

# ============================================
# REQUIRED: WAREHOUSE ADDRESS
# ============================================
WAREHOUSE_ADDRESS=123 Main St
WAREHOUSE_CITY=Your City
WAREHOUSE_STATE=CA
WAREHOUSE_ZIP=12345
WAREHOUSE_COUNTRY=US

# ============================================
# OPTIONAL: SENDGRID EMAIL
# ============================================
# SendGrid free tier: 100 emails/day
SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@yourstore.com

# ============================================
# ENVIRONMENT CONFIGURATION
# ============================================
NODE_ENV=production
MEDUSA_DISABLE_TELEMETRY=true

# ============================================
# RATE LIMITING
# ============================================
# Enabled by default in production
# Set to false if you have very low traffic and want to save resources
# RATE_LIMITING_ENABLED=true
